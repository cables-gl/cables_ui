

<script id="library_head" type="text/x-handlebars-template">

    <div class="tabs">
        <div onclick="CABLES.UI.fileSelect.setTab('projectfiles');" id="tab_projectfiles" class="tab">project files</div>
        <div onclick="CABLES.UI.fileSelect.setTab('library');" id="tab_library" class="tab">library</div>

        <div style="float:right">
            
            <div class="tab" onclick="CABLES.UI.fileSelect.show();">
                {{#if filter  }}
                    {{filter}} &nbsp;<i class="fa fa-times" aria-hidden="true"></i>
                {{/if}}
            </div>

            <div class="tab ">
                <!-- <i class="fa fa-new-file" aria-hidden="true" onclick="CABLES.uploadSelectFile();"></i> -->
                <i class="icon icon-triple-dot iconhover" onclick="CABLES.UI.fileSelect.contextMenu(this)" ></i>
            </div>

            <div onclick="CABLES.UI.fileSelect.setView('list');" class="tab tab_library">
                    <!-- <i class="fa fa-list" aria-hidden="true"></i> -->
                    <i class="icon icon-menu iconhover"></i>
            </div>
            <div onclick="CABLES.UI.fileSelect.setView('icon');" class="tab tab_library">
                <!-- <i class="fa fa-th" aria-hidden="true"></i> -->
                <i class="icon icon-grid iconhover"></i>
            </div>

            <div onclick="CABLES.UI.fileSelect.hide();" class="tab">
                    <i class="fa fa-times" aria-hidden="true"></i>
            </div>
        </div>
    </div>
</script>


<script id="library_file_list" type="text/x-handlebars-template">
    <tr class=" lvl{{file.l}}" onclick="CABLES.UI.fileSelect.setFile('{{inputId}}','{{file.p}}','{{file._id}}');">
        <td>
            <i class="fa fa-1x fa-{{file.icon}}" ></i>
        </td>
        <td style="width:75%"> {{file.n}} </td>
        <td> {{file.t}} </td>
        <td>
            {{#if file._id}}
                <a class="tt icon icon-triple-dot iconhover" onclick="CABLES.UI.fileSelect.contextMenuFile(this,'{{file._id}}','{{file.n}}','{{file.t}}');" data-tt="more options"></a>
            {{/if}}

        </td>
    </tr>
</script>

<script type="text/x-handlebars-template" id="library_uploadfile">
</script>

<script id="library_file_icon" type="text/x-handlebars-template">

    <div class="library-file-icon">

        {{#compare file.t '==' 'dir' }}
        <div style="clear:both;"></div>
        {{/compare}}

        <div class="iconcontainer iconcontainer_{{file.t}}" onclick="CABLES.UI.fileSelect.setFile('{{inputId}}','{{file.p}}','{{file._id}}');"   draggable="true" ondragstart="CABLES.DragNDrop.startDragLibraryFile(event,'{{file.p}}');">

            {{#compare file.t '==' 'image' }}
                <div class="library-file-icon" style="background-image:url('{{file.p}}');">
                </div>
            {{else}}
            <i class="fa fa-4x fa-{{file.icon}}" ></i>
            {{/compare}}
            <div class="filename">

                {{#compare file.t '==' 'dir' }}<h2>{{/compare}}

                {{file.n}}

                {{#compare file.t '==' 'dir' }}</h2>{{/compare}}
            </div>


        </div>
        {{#compare file.t '==' 'dir' }}
        <div style="clear:both;"></div>
        {{/compare}}

    </div>


</script>



<script id="library_preview" type="text/x-handlebars-template">

    <div class="previewImage" style="background-image:url('{{previewImageUrl}}');"></div>
    <div class="info"></div>

    <div>
        <br/><br/><br/>
    </div>

</script>



<script id="library_preview_full" type="text/x-handlebars-template">

    <table>
        <tr>
            <td>
                <a class="tt icon icon-triple-dot iconhover" onclick="CABLES.UI.fileSelect.contextMenuFile(this,'{{file.fileDb._id}}','{{file.fileDb.fileName}}','{{file.type}}');" data-tt="options"></a>
            </td>
            <td class="selectable">
                {{file.fileDb.fileName}}
            </td>
        </tr>
    </table>
    <br/>

    {{#if file.imgPreview  }}
        <img src="/assets/{{file.fileDb.projectId}}/{{file.fileDb.fileName}}" style="width:100%;"/>
        <br/><br/>
    {{/if}}

    {{#if file.imgSizeWidth  }}
        {{ file.imgSizeWidth }} x {{ file.imgSizeHeight }} <!-- - {{ file.imgSizePower }} -->
    {{/if}}

    - {{file.sizeKb}}kb - {{file.fileDb.type}}

    <br/>changed {{file.readableDateSince}} <br/>
    {{file.readableDate}}


    <br/><br/>

    {{#each file.ops}}
        <a class="button fa fa-plus-circle" onclick="gui.patch().addAssetOp('{{op}}','{{portname}}','{{../file.fileDb.fileName}}','{{title}}')">&nbsp;add <b>{{op}}</b></a>
        <br/><br/>
    {{/each}}

    <a class="button fa fa-search" onclick="gui.find().show('{{file.fileDb.fileName}}')">&nbsp;search ops</a>
    <br/><br/>

    {{#if file.converters  }}
        {{#each file.converters}}
            <a class="button fa fa-retweet" onclick="gui.showConverter('{{ id }}','{{ ../file.fileDb.projectId }}','{{ ../file.fileDb._id }}','{{ name }}');">&nbsp;{{ name }}</a>
            <br/>
        {{/each}}
        <br/><br/>

    {{/if}}





</script>
