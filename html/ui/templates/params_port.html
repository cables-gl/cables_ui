

<script id="params_ports_head" type="text/x-handlebars-template">

<tr>
<th colspan="11">
<div class="panelhead">{{title}}:</div>
</th>
</tr>

</script>

<script id="params_port" type="text/x-handlebars-template">


<tr id="tr_{{ dirStr }}_{{ portnum }}">
    <td class="port portType_{{ port.type }}">
        {{port.name}}
    </td>
    <td>
        {{#compare port.uiAttribs.colorPick '==' 'true' }}
        <div class="button_colorpick button fa fa-eyedropper" id="watchcolorpick_{{ dirStr }}_{{ portnum }}"></div>
        {{/compare}}
    </td>
    <td class="">

        {{#if port.links}}
            {{#if port.links}}
                <a class="tt graphbutton fa fa-chain-broken" data-tt="unlink {{port.links.length}} links" id="portdelete_{{ dirStr }}_{{ portnum }}" ></a>
            {{/if}}

            {{#if port.direction }}
                {{#each port.links}}
                    </td><td>
                    <span class="paramsPortLink" onclick="gui.patch().setSelectedOpById('{{portIn.parent.id}}');"> [{{{portIn.name}}}]</span>
                {{/each}}
            {{else}}
                {{#each port.links}}
                    </td><td>
                    <span class="paramsPortLink" onclick="gui.patch().setSelectedOpById('{{portOut.parent.id}}');"> [{{{portOut.name}}}]</span>

                {{/each}}
            {{/if}}
        {{/if}}

        {{#if isInput}}

            {{#if port.links}}

                <!-- {{#compare port.type '==' '1' }}[function]{{/compare}} -->

                {{#compare port.type '==' 0 }} <span class="value valuetext watchPortValue_{{ port.watchId }}" >{{port.val}}</span>{{/compare}}
                {{#compare port.type '==' '2' }}

                {{#if port.uiAttribs.preview}}
                    <a class="button fa fa-eye" onmouseover="CABLES.UI.showPreview('{{op.id}}','{{port.name}}',true);" onmouseout="CABLES.UI.showPreview('{{op.id}}','{{port.name}}',false);"></a>
                {{/if}}

                <!--[object]-->

                {{/compare}}
            {{else}}
                {{#if port.uiAttribs.display}}

                    {{#compare port.uiAttribs.display '==' 'bool' }}
                        <span id="portcheckbox_{{ portnum }}" class="graphbutton fa {{#compare port.val '==' true }}fa-check-square-o{{/compare}}{{#compare port.val '==' false }}fa-square-o{{/compare}}" onclick="CABLES.UI.togglePortValBool('portval_{{ portnum }}','portcheckbox_{{ portnum }}');" style="padding-left:5px;padding-right:30px;"></span>
                        <input class="value hidden" id="portval_{{ portnum }}" value="{{#if port.val }}true{{else}}false{{/if}}" style="display:none;"/>
                    {{/compare}}

                    {{#compare port.uiAttribs.display '==' 'editor' }}
                        <a class="graphbutton fa fa-edit" id="portedit_{{ dirStr }}_{{ portnum }}" ></a>
                    {{/compare}}

                    {{#compare port.uiAttribs.display '==' 'createOpHelper' }}
                        <a class="tt graphbutton fa fa-plus-square" data-tt="create new fitting op" id="portCreateOp_{{ dirStr }}_{{ portnum }}" ></a>
                    {{/compare}}

                    {{#compare port.uiAttribs.display '==' 'range' }}
                        <a class="timingbutton fa fa-clock-o" id="portanim_{{ dirStr }}_{{ portnum }}" ></a>
                        <a class="graphbutton fa fa-line-chart" id="portgraph_{{ dirStr }}_{{ portnum }}" ></a>
                        </td><td>
                        <input type ="range" class="range" min ="0" max="1.0" value="{{ port.val }}" step ="0.001" oninput="$('#portval_{{ portnum }}').val(this.value);$('#portval_{{ portnum }}').trigger('input');" style="width:90px;"/>
                        <input class="value watchPortValue_{{ port.watchId }}" id="portval_{{ portnum }}" value="{{ port.val }}" style="width:40px;display:inline;"/>
                    {{/compare}}
                    {{#compare port.uiAttribs.display '==' 'dropdown' }}
                        </td><td>
                            <select oninput="$('#portval_{{ portnum }}').val(this.value);$('#portval_{{ portnum }}').trigger('input');">
                                <option value="">...</option>
                                {{#each port.uiAttribs.values}}
                                    <option value="{{ this }}">{{ this }}</option>
                                {{/each}}
                            </select>
                            <input class="value" id="portval_{{ portnum }}" value="{{ port.val }}" style="width:70px;display:inline;"/>
                    {{/compare}}
                    {{#compare port.uiAttribs.display '==' 'readonly' }}
                        {{ port.val }}
                    {{/compare}}

                    {{#compare port.uiAttribs.display '==' 'file' }}
                        </td><td>
                        <a class="graphbutton timingbutton fa fa-folder-open-o" onclick="gui.showLibrary('.portFileVal_{{ portnum }}','{{port.uiAttribs.filter}}');" ></a>
                        <input class="value portFileVal_{{ portnum }} watchPortValue_{{ port.watchId }}" id="portval_{{ portnum }}" value="{{ port.val }}"/>
                        &nbsp;<a class="graphbutton fa fa-external-link" href="{{ port.val }}" target="_blank"></a>

                    {{/compare}}


                {{else}}

                    {{#compare port.type '==' '1' }} [function]
                    {{/compare}}{{#compare port.type '==' 0 }}
                        <a class="timingbutton fa fa-clock-o" id="portanim_{{ dirStr }}_{{ portnum }}" ></a>
                        <a class="graphbutton fa fa-line-chart" id="portgraph_{{ dirStr }}_{{ portnum }}" ></a>
                    </td><td>
                        <input class="value watchPortValue_{{ port.watchId }}" id="portval_{{ portnum }}" value="{{ port.val }}" />
                        <a class="graphbutton fa fa-sort" onmousedown="valueChanger('portval_{{ portnum }}');" style="margin-left:0px;height:17px;background-color:#383838"></a>

                    {{/compare}}
                    <!-- {{#compare port.type '==' '2' }} object {{/compare}} -->

                {{/if}}
            {{/if}}

        {{else}}

            <!-- {{#compare port.type '==' '1' }}[function]{{/compare}}-->
            {{#compare port.type '==' 0 }} <span class="value valuetext watchPortValue_{{ port.watchId }}" >{{port.val}}</span> {{/compare}}
            {{#compare port.type '==' '2' }}
                {{#if port.uiAttribs.preview}}
                    <a class="button fa fa-eye" onmouseover="CABLES.UI.showPreview('{{op.id}}','{{port.name}}',true);" onmouseout="CABLES.UI.showPreview('{{op.id}}','{{port.name}}',false);"></a>
                {{/if}}
            {{/compare}}
        {{/if}}
    </td>


</tr>

</script>
