
<script id="params_op_head" type="text/x-handlebars-template">

    <div class="selectable params">

        <a onclick="gui.opParams.opContextMenu(this)" class="tt icon icon-triple-dot iconhover op-contextmenu info" data-info="More Options"></a>
        {{#if isBookmarked}}
            <a onclick="gui.bookmarks.add()" class="icon iconhover icon-bookmark-filled info toggle-bookmark-button" data-info="Add Bookmark"></a>
        {{else}}
            <a onclick="gui.bookmarks.add()" class="icon iconhover icon-bookmark info toggle-bookmark-button" data-info="Add Bookmark"></a>
        {{/if}}

        <div class="panel params_op_head">
            <input class="medium info" id="opname" oninput="gui.opParams.setCurrentOpTitle($('#opname').val());" value="{{op.name}}" data-infotext="op_title">
			<br/>
            <a href="{{cablesUrl}}/op/{{op.objName}}" class="{{colorClass}}" target="_blank"></i>&nbsp;{{op.objName}}</a>
            <br/>

            {{#if oldVersion}}
            <a href="{{cablesUrl}}/op/{{op.objName}}"><b>NEWER VERSION AVAILABLE</b></a>
            {{/if}}

			<div class="summary selectable">
	            <!-- {{#if op.summary }} -->
                    {{op.summary}}
                    <!-- {{#if user.isAdmin}}
                    &nbsp;<a onclick="gui.opDocs.writeSummary('{{op.objName}}','{{op.summary}}')"><i class="icon icon-edit"></i></a>
                    {{/if}}
                {{else}}
                    {{#if user.isAdmin}}
                    <a onclick="gui.opDocs.writeSummary('{{op.objName}}')">no summary - click to write one! <i class="icon icon-edit"></i></a>
                    {{/if}}
                {{/if}} -->
			</div>


            {{#if ownsOp }}
                <a class="button tt" data-tt="[e] - edit op " onclick="gui.serverOps.edit('{{op.objName}}');">edit op</a>
                <br/><br/>
            {{/if}}
            

            <!-- href="/op/{{op.objName}}"  -->
            
            <!-- <a onclick="gui.mainTabs.addIframeTab('doc {{op.objName}}','/op/{{op.objName}}?dark=1&hdl=1',{'icon':'settings','closable':true,'singleton':true});" style="text-decoration: underline;" target="_blank">view documentation</a>&nbsp;&nbsp;<i class="icon icon-link"></i> -->
            <a href="{{cablesUrl}}/op/{{op.objName}}" style="text-decoration: underline;" target="_blank">view documentation</a>&nbsp;&nbsp;<i class="icon icon-link"></i>
            {{#if hasExample}}
                | &nbsp; <a href="{{cablesUrl}}/op/example/{{op.objName}}" style="text-decoration: underline;" target="_blank">view example</a>&nbsp;&nbsp;<i class="icon icon-link"></i>
            {{/if}}
            <br/><br/>



            {{#if op.isDeprecated }}
                <div class="warning" id="">
                    This operator is outdated.
                    {{#if op.isDeprecatedAlternative }}
                        <br/>
                        we recommend to use the new version: <a onclick="gui.scene().addOp('{{op.isDeprecatedAlternative}}');">{{ op.isDeprecatedAlternative }}</a>
                    {{/if}}
                </div>
                <br/><br/>
            {{/if}}
            <div class="warning-error warning-error-level2" id="options_error"  >
                OLD ERROR MSG<br/>
                <i>Error:</i> {{op.uiAttribs.error}}
            </div>

            {{#if op.uiAttribs.errors }}
                {{#each op.uiAttribs.errors}}
                    <div class="warning-error warning-error-level2" id="options_error"  >
                        OLD ERROR MSG<br/>
                        {{{.}}}<br/>
                    </div>
                {{/each}}
            {{/if}}

            {{#if op.uiAttribs.uierrors }}
                {{#each op.uiAttribs.uierrors}}
                    <div class="warning-error warning-error-level{{level}}"  >

                        {{#compare level '==' 0 }}Hint:{{/compare}}
                        {{#compare level '==' 1 }}Warning:{{/compare}}
                        {{#compare level '==' 2 }}Error:{{/compare}}

                        {{{txt}}}<br/>
                    </div>
                {{/each}}
            {{/if}}


            {{#if op.isExperimental }}
                <div class="warning-experimental" id=""><b>Warning: This operator is Experimental.</b><br/> You can play around with it, but a lot will change and it might stop working for you.</div>
            {{/if}}

            <div class="warning" id="options_warning" >
            	<i>Warning:</i> {{op.uiAttribs.warning}}
            </div>

            <div class="hint" id="options_hint" >
            	<i>Hint:</i> {{op.uiAttribs.hint}}
            </div>

            <!-- {{#if op.uiAttribs.notWorkingMsg }}
                <div class="warning" id="options_warning" >
                    {{op.uiAttribs.notWorkingMsg}}
                </div>
            {{/if}} -->

        </div>
    </div>

    <div id="opparams" class="panel" style="padding:0px;">
        <table>

</script>


<script id="params_op_foot" type="text/x-handlebars-template">

        </table>

    <div class="info " id="options_info" style="padding:0px;">
        {{{op.uiAttribs.info}}}
    </div>

    <!-- <div class="panelhead" data-panelselector="#opcode">Code</div>
    <div id="opcode" class="panel" style="padding:0px;">
        <div class="panel">
            {{#if op.isServerOp }}
                {{#if user.isAdmin}}
                <span class="button fa fa-lock" onclick="gui.serverOps.edit('{{op.objName}}');">edit code</span>
                <span class="button fa fa-lock" onclick="CABLES.UI.MetaCode.rename('{{op.objName}}');">rename</span>
                <br/><br/>

                <a onclick="CABLES.contextMenu.show({items:[{title:'hund'},{title:'elefant'},{title:'katze'},{title:'maus'}]},this);" class="button">test...</a>
                <br/><br/>

                {{/if}} 
                <span class="button fa fa-file-text-o" onclick="gui.serverOps.edit('{{op.objName}}',{{#if ownsOp}}false{{else}}true{{/if}});">{{#if ownsOp}}edit{{else}}view{{/if}} code</span>
                <span class="button fa fa-clone" onclick="gui.serverOps.cloneDialog('{{op.objName}}');">clone op code</span>
            {{/if}}
        </div>
    </div> -->


<!--
    <div class="panelhead " data-panelselector="#optools">Tools</div>
    <div id="optools" class="panel" >

        <br/><br/><br/><br/>
        <span class="button  fa fa-remove" onclick="gui.patch().deleteChilds('{{op.id}}');">delete all children </span>
    </div> -->

<!--
    <div class="panelhead " data-panelselector="#opdebug">Debug</div>
        <div id="opdebug" class="panel selectable" style="overflow:auto">
            op id: {{{op.opIid}}}<br />
            op instance id:{{{op.id}}}<br />
            <pre>{{{ json opserialized }}}</pre>
    </div> -->

    <div class="panel" >
        <a onclick="gui.patch().resetOpValues('{{{op.id}}}');" class="button-small">reset input parameters</a>
    </div>
    
    <div class="panel" >
        comment:
        <textarea id="commentTextarea" spellcheck="false" style="height:60px;width:100%;" onInput="gui.opParams.setCurrentOpComment(this.value);" >{{op.uiAttribs.comment}}</textarea>
    </div>

    <script>
    </script>

</script>
