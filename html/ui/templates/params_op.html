

<script id="params_op_head" type="text/x-handlebars-template">

    <div class="">
        <h2>{{op.name}}</h2>
        [{{op.objName}}]
        <input id="opname" oninput="ui.setSelectedOpTitle($('#opname').val());" value="{{op.name}}">
        <br/>
        <br/>
    </div>

<table>

</script>


<script id="params_op_foot" type="text/x-handlebars-template">

</table>

<div>
{{{ json op.uiAttribs }}}
</div>

<div>
    <br/>
    <br/>
    <span class="button warn" onclick="if(confirm('delete ?'))ui.scene.deleteOp('{{op.id}}')">delete</span>
    <br/>
    <br/>
</div>

<script>

function inputIncrement(v,dir)
{
    var val=parseFloat(v);
    var add=1;
    if(Math.abs(val)<2) add=0.1;
        else if(Math.abs(val)<100) add=1;
            else add=10;

    return val+add*dir;
}

    $("input").keydown(function(e)
    {
        switch(e.which)
        {
            // case 37: // left
            // break;

            // case 39: // right
            // break;

            case 38: // up
                this.value=inputIncrement(this.value,1);
                $(this).trigger('input');
                return false;
            break;

            case 40: // down
                this.value=inputIncrement(this.value,-1);
                $(this).trigger('input');
                return false;
            break;

            default: return; // exit this handler for other keys
        }
        e.preventDefault(); // prevent the default action (scroll / move caret)
    });

    $("input").bind("mousewheel", function(event, delta) 
    {
        // var add=getInputFieldIncrementValue(this.value);

        if (delta > 0)
        {
            this.value = inputIncrement(this.value,1);
        }
        else
        {
            this.value = inputIncrement(this.value,-1);
        }

         $(this).trigger('input');
        return false;
     });
</script>

</script>
