function getPortColor(e){return e==OP_PORT_TYPE_VALUE?"#ea6638":e==OP_PORT_TYPE_FUNCTION?"#6c9fde":e==OP_PORT_TYPE_TEXTURE?"#26a92a":"#c6c6c6"}function setStatusText(e){$("#statusbar").html("&nbsp;"+e)}function Line(e,a,t){var n={x:e,y:a};this.updateEnd=function(e,a){r.x=e,r.y=a,this.redraw()};var r={x:e,y:a};this.getPath=function(){var e=n.x,a=n.y,t=r.x,l=r.y;return"M "+e+" "+a+" L"+t+" "+l},this.thisLine=t.path(this.getPath()),this.thisLine.attr({stroke:uiConfig.colorLink,"stroke-width":1}),this.redraw=function(){this.thisLine.attr("path",this.getPath())}}function UiLink(e,a){var t=this;this.p1=e,this.p2=a;var n=30,l=30,o=null;this.hideAddButton=function(){o&&o.remove(),o=null},this.showAddButton=function(){null===o?(o=r.circle(n,l,.74*uiConfig.portSize).attr({fill:getPortColor(t.p1.thePort.getType()),"stroke-width":0,"fill-opacity":1}),o.hover(function(){setStatusText("left click: insert op / right click: delete link")}),o.drag(function(){},function(){},function(e){null!==t.p1&&(3==e.which?t.p1.thePort.removeLinkTo(t.p2.thePort):(console.log("show showOpSelect"),ui.showOpSelect(e.offsetX,e.offsetY,null,null,t)))})):o.attr({cx:n,cy:l})},this.getPath=function(){if(!a.attrs)return"";if(!e.attrs)return"";var t=e.matrix.e+e.attrs.x+uiConfig.portSize/2,r=e.matrix.f+e.attrs.y,o=a.matrix.e+a.attrs.x+uiConfig.portSize/2,u=a.matrix.f+a.attrs.y;n=.5*(t+o),l=.5*(r+u);var s=0,i=0,b=0,d=0;i=Math.min(r,u)+(Math.max(r,u)-Math.min(r,u))/2,d=Math.min(r,u)+(Math.max(r,u)-Math.min(r,u))/2,u>r&&(r+=uiConfig.portSize),r>u&&(u+=uiConfig.portSize),s=Math.min(t,o)+(Math.max(t,o)-Math.min(t,o))/4,b=Math.min(t,o)+(Math.max(t,o)-Math.min(t,o))/4;Math.min(t,o)+Math.abs(o-t);return s=t-0,b=o+0,"M "+t+" "+r+" C "+s+" "+i+" "+b+" "+d+" "+o+" "+u},this.thisLine=r.path(this.getPath()),this.thisLine.attr({stroke:getPortColor(e.thePort.type),"stroke-width":2}),this.thisLine.hover(function(){this.attr({stroke:uiConfig.colorLinkHover})},function(){this.attr({stroke:getPortColor(t.p1.thePort.type)})}),this.remove=function(){this.thisLine.remove()},this.redraw=function(){this.thisLine.attr("path",this.getPath()),this.showAddButton()}}function getPortDescription(e){return e.getName()+" ("+e.val+") ["+e.getTypeString()+"]"}var examples=[{title:"triangledance",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"dc8530c7-bfa9-4317-b662-46772e38760a",uiAttribs:{translate:{x:273,y:18}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"Repeat",objName:"Ops.Repeat",id:"b24ec028-772c-4e50-beda-a14e91c929c4",uiAttribs:{translate:{x:108,y:129}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"b24ec028-772c-4e50-beda-a14e91c929c4",objOut:"9baac4cd-674d-4898-a5cc-d9e5aa0ea713"}]},{name:"num",value:"11"}],portsOut:[{name:"trigger",value:null},{name:"index",value:10}]},{name:"Triangle",objName:"Ops.Gl.Meshes.Triangle",id:"fe8467c7-13d7-4e28-b1e9-9f2862d805e4",uiAttribs:{translate:{x:235,y:548}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"fe8467c7-13d7-4e28-b1e9-9f2862d805e4",objOut:"22c9b15c-5009-4b38-a355-0f751e982a09"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"db87cec7-a912-4dab-8912-75f9f33a3d1f",uiAttribs:{translate:{x:95,y:339}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"db87cec7-a912-4dab-8912-75f9f33a3d1f",objOut:"7462c8ff-3721-4209-b92d-b454893b228e"}]},{name:"posX",value:0},{name:"posY",value:0},{name:"posZ",value:"0.4"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"9baac4cd-674d-4898-a5cc-d9e5aa0ea713",uiAttribs:{translate:{x:99,y:81}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"9baac4cd-674d-4898-a5cc-d9e5aa0ea713",objOut:"dc8530c7-bfa9-4317-b662-46772e38760a"}]},{name:"posX",value:0},{name:"posY",value:0},{name:"posZ",value:-1},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"22c9b15c-5009-4b38-a355-0f751e982a09",uiAttribs:{translate:{x:235,y:464}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"22c9b15c-5009-4b38-a355-0f751e982a09",objOut:"db87cec7-a912-4dab-8912-75f9f33a3d1f"}]},{name:"posX",value:0},{name:"posY",value:0},{name:"posZ",value:.01,links:[{portIn:"posZ",portOut:"result",objIn:"22c9b15c-5009-4b38-a355-0f751e982a09",objOut:"57b8504d-147f-46e3-b23a-5775bb15d60a"}]},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:214.46063406834557,links:[{portIn:"rotZ",portOut:"result",objIn:"22c9b15c-5009-4b38-a355-0f751e982a09",objOut:"eceeb4e0-2a9d-451d-bd09-5f222458f52b"}]}],portsOut:[{name:"trigger",value:null}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"eceeb4e0-2a9d-451d-bd09-5f222458f52b",uiAttribs:{translate:{x:463,y:213}},portsIn:[{name:"number1",value:10,links:[{portIn:"number1",portOut:"index",objIn:"eceeb4e0-2a9d-451d-bd09-5f222458f52b",objOut:"b24ec028-772c-4e50-beda-a14e91c929c4"}]},{name:"number2",value:21.446063406834558,links:[{portIn:"number2",portOut:"result",objIn:"eceeb4e0-2a9d-451d-bd09-5f222458f52b",objOut:"85450dc7-10e3-4873-8504-025009dc57e4"}]}],portsOut:[{name:"result",value:214.46063406834557}]},{name:"SinusAnim",objName:"Ops.Anim.SinusAnim",id:"1f148627-3e14-4533-afc9-5440a4d95e22",uiAttribs:{translate:{x:458,y:69}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"1f148627-3e14-4533-afc9-5440a4d95e22",objOut:"dc8530c7-bfa9-4317-b662-46772e38760a"}]}],portsOut:[{name:"result",value:.9748210639470253}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"85450dc7-10e3-4873-8504-025009dc57e4",uiAttribs:{translate:{x:461,y:125}},portsIn:[{name:"number1",value:"22"},{name:"number2",value:.9748210639470253,links:[{portIn:"number2",portOut:"result",objIn:"85450dc7-10e3-4873-8504-025009dc57e4",objOut:"1f148627-3e14-4533-afc9-5440a4d95e22"}]}],portsOut:[{name:"result",value:21.446063406834558}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"7462c8ff-3721-4209-b92d-b454893b228e",uiAttribs:{translate:{x:106,y:259}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"7462c8ff-3721-4209-b92d-b454893b228e",objOut:"b24ec028-772c-4e50-beda-a14e91c929c4"}]},{name:"r",value:1,links:[{portIn:"r",portOut:"result",objIn:"7462c8ff-3721-4209-b92d-b454893b228e",objOut:"ba70490d-37d4-454d-bdcc-9113dba386a7"}]},{name:"g",value:.38978386297822},{name:"b",value:.7915484751574695},{name:"a",value:"0.6"},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"ba70490d-37d4-454d-bdcc-9113dba386a7",uiAttribs:{translate:{x:177,y:198}},portsIn:[{name:"number1",value:10,links:[{portIn:"number1",portOut:"index",objIn:"ba70490d-37d4-454d-bdcc-9113dba386a7",objOut:"b24ec028-772c-4e50-beda-a14e91c929c4"}]},{name:"number2",value:"0.1"}],portsOut:[{name:"result",value:1}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"57b8504d-147f-46e3-b23a-5775bb15d60a",uiAttribs:{translate:{x:245,y:369}},portsIn:[{name:"number1",value:10,links:[{portIn:"number1",portOut:"index",objIn:"57b8504d-147f-46e3-b23a-5775bb15d60a",objOut:"b24ec028-772c-4e50-beda-a14e91c929c4"}]},{name:"number2",value:"0.001"}],portsOut:[{name:"result",value:.01}]}]}},{title:"if...then",src:{ops:[{name:"if true then",objName:"Ops.IfTrueThen",id:"266b503d-3e68-4d49-b30d-9770e711ec88",uiAttribs:{translate:{x:249,y:307}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"266b503d-3e68-4d49-b30d-9770e711ec88",objOut:"1dbf78f5-91dd-4528-9e2f-a51f2f8cc9fb"}]},{name:"boolean",value:!1,links:[{portIn:"boolean",portOut:"result",objIn:"266b503d-3e68-4d49-b30d-9770e711ec88",objOut:"e586181b-445c-410e-ae7a-351f487cc523"}]}],portsOut:[{name:"then",value:null},{name:"else",value:null}]},{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"3a29f1af-b1ec-4234-a2d9-93983ba6ed54",uiAttribs:{translate:{x:236,y:57}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"Greater",objName:"Ops.Math.Compare.Greater",id:"e586181b-445c-410e-ae7a-351f487cc523",uiAttribs:{translate:{x:369,y:216}},portsIn:[{name:"number1",value:-.986112747258538,links:[{portIn:"number1",portOut:"result",objIn:"e586181b-445c-410e-ae7a-351f487cc523",objOut:"d6c0bf3f-1855-4cbc-83cb-48b592a8ace2"}]},{name:"number2",value:"0"}],portsOut:[{name:"result",value:!1}]},{name:"Triangle",objName:"Ops.Gl.Meshes.Triangle",id:"58d9665e-5fbd-4c39-826d-355b7969cb01",uiAttribs:{translate:{x:118,y:446}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"then",objIn:"58d9665e-5fbd-4c39-826d-355b7969cb01",objOut:"266b503d-3e68-4d49-b30d-9770e711ec88"}]}],portsOut:[{name:"trigger",value:null}]},{name:"rectangle",objName:"Ops.Gl.Meshes.Rectangle",id:"fe1f5d12-e817-44ba-b961-b6e966c07648",uiAttribs:{translate:{x:263,y:444}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"else",objIn:"fe1f5d12-e817-44ba-b961-b6e966c07648",objOut:"266b503d-3e68-4d49-b30d-9770e711ec88"}]}],portsOut:[{name:"trigger",value:null}]},{name:"SinusAnim",objName:"Ops.Anim.SinusAnim",id:"d6c0bf3f-1855-4cbc-83cb-48b592a8ace2",uiAttribs:{translate:{x:360,y:131}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"d6c0bf3f-1855-4cbc-83cb-48b592a8ace2",objOut:"3a29f1af-b1ec-4234-a2d9-93983ba6ed54"}]}],portsOut:[{name:"result",value:-.986112747258538}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"1dbf78f5-91dd-4528-9e2f-a51f2f8cc9fb",uiAttribs:{translate:{x:167,y:186}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"1dbf78f5-91dd-4528-9e2f-a51f2f8cc9fb",objOut:"3a29f1af-b1ec-4234-a2d9-93983ba6ed54"}]},{name:"r",value:null},{name:"g",value:null},{name:"b",value:-.986112747258538,links:[{portIn:"b",portOut:"result",objIn:"1dbf78f5-91dd-4528-9e2f-a51f2f8cc9fb",objOut:"d6c0bf3f-1855-4cbc-83cb-48b592a8ace2"}]}],portsOut:[{name:"trigger",value:null}]}]}},{title:"plotter",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"140e6c67-c2fe-4cfc-bd60-29f9059a77ae",uiAttribs:{translate:{x:128,y:72}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"7a616490-a053-4b67-a436-83b477d75a0d",uiAttribs:{translate:{x:128,y:298}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"7a616490-a053-4b67-a436-83b477d75a0d",objOut:"140e6c67-c2fe-4cfc-bd60-29f9059a77ae"}]},{name:"posX",value:"-1.0"},{name:"posY",value:0},{name:"posZ",value:0},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:"33"},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"Sinus",objName:"Ops.Math.Sin",id:"c1facdcb-cc17-453f-a34a-f9fd09700a4d",uiAttribs:{translate:{x:351,y:354}},portsIn:[{name:"number",value:543.4359998703003,links:[{portIn:"number",portOut:"result",objIn:"c1facdcb-cc17-453f-a34a-f9fd09700a4d",objOut:"74e9fdb1-5aa3-4386-905f-b3a247140b33"}]}],portsOut:[{name:"result",value:.05949404776965134}]},{name:"RelativeTime",objName:"Ops.Anim.RelativeTime",id:"cc7b9ebd-f1aa-4009-a7c9-a03c1141d7a6",uiAttribs:{translate:{x:350,y:228}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"cc7b9ebd-f1aa-4009-a7c9-a03c1141d7a6",objOut:"140e6c67-c2fe-4cfc-bd60-29f9059a77ae"}]}],portsOut:[{name:"result",value:135.85899996757507}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"74e9fdb1-5aa3-4386-905f-b3a247140b33",uiAttribs:{translate:{x:350,y:289}},portsIn:[{name:"number1",value:135.85899996757507,links:[{portIn:"number1",portOut:"result",objIn:"74e9fdb1-5aa3-4386-905f-b3a247140b33",objOut:"cc7b9ebd-f1aa-4009-a7c9-a03c1141d7a6"}]},{name:"number2",value:"4"}],portsOut:[{name:"result",value:543.4359998703003}]},{name:"Plotter",objName:"Ops.Gl.Meshes.Plotter",id:"4f31f2e8-1117-412f-9e5d-a0fea3ad24ee",uiAttribs:{translate:{x:128,y:537}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"4f31f2e8-1117-412f-9e5d-a0fea3ad24ee",objOut:"7a616490-a053-4b67-a436-83b477d75a0d"}]},{name:"value",value:.05949404776965134,links:[{portIn:"value",portOut:"result",objIn:"4f31f2e8-1117-412f-9e5d-a0fea3ad24ee",objOut:"c1facdcb-cc17-453f-a34a-f9fd09700a4d"}]}],portsOut:[{name:"trigger",value:null}]}]}},{title:"plotter noise",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"8aa77a43-1510-463b-8bf6-8c0e08fffc0f",uiAttribs:{translate:{x:128,y:72}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"a29d9ec1-9eea-4154-83e9-650ccfac45c4",uiAttribs:{translate:{x:128,y:298}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"a29d9ec1-9eea-4154-83e9-650ccfac45c4",objOut:"8aa77a43-1510-463b-8bf6-8c0e08fffc0f"}]},{name:"posX",value:"-1.0"},{name:"posY",value:0},{name:"posZ",value:0},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:"33"},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"Sinus",objName:"Ops.Math.Sin",id:"139a17c8-6f6a-4154-bf64-e81671b7d507",uiAttribs:{translate:{x:351,y:354}},portsIn:[{name:"number",value:1250.5350005626678,links:[{portIn:"number",portOut:"result",objIn:"139a17c8-6f6a-4154-bf64-e81671b7d507",objOut:"b1e8ade3-7b4b-4354-aa25-0f3412e6021e"}]}],portsOut:[{name:"result",value:.1801357272446712}]},{name:"RelativeTime",objName:"Ops.Anim.RelativeTime",id:"4eef7e36-db76-4ebb-af07-fa242c4c5457",uiAttribs:{translate:{x:350,y:228}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"4eef7e36-db76-4ebb-af07-fa242c4c5457",objOut:"8aa77a43-1510-463b-8bf6-8c0e08fffc0f"}]}],portsOut:[{name:"result",value:250.10700011253357}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"b1e8ade3-7b4b-4354-aa25-0f3412e6021e",uiAttribs:{translate:{x:350,y:289}},portsIn:[{name:"number1",value:250.10700011253357,links:[{portIn:"number1",portOut:"result",objIn:"b1e8ade3-7b4b-4354-aa25-0f3412e6021e",objOut:"4eef7e36-db76-4ebb-af07-fa242c4c5457"}]},{name:"number2",value:"5"}],portsOut:[{name:"result",value:1250.5350005626678}]},{name:"Plotter",objName:"Ops.Gl.Meshes.Plotter",id:"1b444f62-0aa0-427b-8af4-5f7fcaacc175",uiAttribs:{translate:{x:128,y:537}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"1b444f62-0aa0-427b-8af4-5f7fcaacc175",objOut:"a29d9ec1-9eea-4154-83e9-650ccfac45c4"}]},{name:"value",value:.2936247485124131,links:[{portIn:"value",portOut:"result",objIn:"1b444f62-0aa0-427b-8af4-5f7fcaacc175",objOut:"dd45504a-bb59-4d4c-b6d7-d27d9a271398"}]}],portsOut:[{name:"trigger",value:null}]},{name:"random",objName:"Ops.Math.Random",id:"791ee797-0f23-4cf1-b06e-1b37e369a81d",uiAttribs:{translate:{x:539,y:262}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"791ee797-0f23-4cf1-b06e-1b37e369a81d",objOut:"8aa77a43-1510-463b-8bf6-8c0e08fffc0f"}]}],portsOut:[{name:"result",value:.5674451063387096}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"9d6f5fea-1b77-4ac3-96a7-85bfaa532a9b",uiAttribs:{translate:{x:530,y:343}},portsIn:[{name:"number1",value:"0.2"},{name:"number2",value:.5674451063387096,links:[{portIn:"number2",portOut:"result",objIn:"9d6f5fea-1b77-4ac3-96a7-85bfaa532a9b",objOut:"791ee797-0f23-4cf1-b06e-1b37e369a81d"}]}],portsOut:[{name:"result",value:.11348902126774192}]},{name:"sum",objName:"Ops.Math.Sum",id:"dd45504a-bb59-4d4c-b6d7-d27d9a271398",uiAttribs:{translate:{x:340,y:471}},portsIn:[{name:"number1",value:.1801357272446712,links:[{portIn:"number1",portOut:"result",objIn:"dd45504a-bb59-4d4c-b6d7-d27d9a271398",objOut:"139a17c8-6f6a-4154-bf64-e81671b7d507"}]},{name:"number2",value:.11348902126774192,links:[{portIn:"number2",portOut:"result",objIn:"dd45504a-bb59-4d4c-b6d7-d27d9a271398",objOut:"9d6f5fea-1b77-4ac3-96a7-85bfaa532a9b"}]}],portsOut:[{name:"result",value:.2936247485124131}]}]}},{title:"obj mesh",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"abd9d026-8735-4791-a589-99a79792783c",uiAttribs:{translate:{x:159,y:29}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"OBJ Mesh",objName:"Ops.Gl.Meshes.ObjMesh",id:"1f98711a-4dc3-4e33-9968-b4fb9cc1ee6a",uiAttribs:{translate:{x:172,y:382}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"1f98711a-4dc3-4e33-9968-b4fb9cc1ee6a",objOut:"b8e66c7b-7eb4-49cb-be13-8406f8853b16"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"b8e66c7b-7eb4-49cb-be13-8406f8853b16",uiAttribs:{translate:{x:150,y:271}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"b8e66c7b-7eb4-49cb-be13-8406f8853b16",objOut:"1a4ba91e-fd04-44b1-a253-544adfb583a0"}]},{name:"posX",value:0},{name:"posY",value:"-20"},{name:"posZ",value:"-223"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:958.4000110626221,links:[{portIn:"rotY",portOut:"result",objIn:"b8e66c7b-7eb4-49cb-be13-8406f8853b16",objOut:"65a083b1-9eb6-41d4-bdcc-3cd0642a7a3b"}]},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"RelativeTime",objName:"Ops.Anim.RelativeTime",id:"3b3644ad-93c9-41db-9945-32b622e62a43",uiAttribs:{translate:{x:379,y:96}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"3b3644ad-93c9-41db-9945-32b622e62a43",objOut:"abd9d026-8735-4791-a589-99a79792783c"}]}],portsOut:[{name:"result",value:19.16800022125244}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"65a083b1-9eb6-41d4-bdcc-3cd0642a7a3b",uiAttribs:{translate:{x:318,y:211}},portsIn:[{name:"number1",value:19.16800022125244,links:[{portIn:"number1",portOut:"result",objIn:"65a083b1-9eb6-41d4-bdcc-3cd0642a7a3b",objOut:"3b3644ad-93c9-41db-9945-32b622e62a43"}]},{name:"number2",value:"50"}],portsOut:[{name:"result",value:958.4000110626221}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"1a4ba91e-fd04-44b1-a253-544adfb583a0",uiAttribs:{translate:{x:110,y:187}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"1a4ba91e-fd04-44b1-a253-544adfb583a0",objOut:"abd9d026-8735-4791-a589-99a79792783c"}]},{name:"r",value:.470756561961025},{name:"g",value:.8225311778951436},{name:"b",value:"1"},{name:"a",value:1},{name:"texture",value:{},links:[{portIn:"texture",portOut:"texture",objIn:"1a4ba91e-fd04-44b1-a253-544adfb583a0",objOut:"699bc89d-d1e3-4a5e-bd16-63673c1d58f0"}]}],portsOut:[{name:"trigger",value:null}]},{name:"texture",objName:"Ops.Gl.Texture",id:"699bc89d-d1e3-4a5e-bd16-63673c1d58f0",uiAttribs:{translate:{x:211,y:83}},portsIn:[{name:"file",value:"assets/skull.png"}],portsOut:[{name:"texture",value:{}}]}]}},{title:"stupid cubes",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"b55a747a-a227-41be-a6c4-da221051cd1e",uiAttribs:{translate:{x:317,y:47}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"84bc0678-2c99-4585-a412-e0faf59dc80b",uiAttribs:{translate:{x:408,y:248}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"84bc0678-2c99-4585-a412-e0faf59dc80b",objOut:"50dff18f-831e-4e88-a287-212195903195"}]},{name:"posX",value:"0.20000000000000004"},{name:"posY",value:0},{name:"posZ",value:0},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:2708.508001804352,links:[{portIn:"rotY",portOut:"result",objIn:"84bc0678-2c99-4585-a412-e0faf59dc80b",objOut:"7e824d25-ef5a-4c8f-94b6-9ebf3500ff30"}]},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"a560e405-fc3a-47e6-954a-2e6aa2f1cd17",uiAttribs:{translate:{x:421,y:311}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"a560e405-fc3a-47e6-954a-2e6aa2f1cd17",objOut:"84bc0678-2c99-4585-a412-e0faf59dc80b"}]},{name:"r",value:"1.6000000000000005"},{name:"g",value:"0.30000000000000016"},{name:"b",value:"0.30000000000000016"},{name:"a",value:1},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"Cube",objName:"Ops.Gl.Meshes.Cube",id:"ecda7a66-b473-4e45-8506-6f74e7604be1",uiAttribs:{translate:{x:454,y:632}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"ecda7a66-b473-4e45-8506-6f74e7604be1",objOut:"9549291e-f660-48b8-9ffa-997eebec2000"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"8881d03b-635f-4e3b-8f8d-d1434e6dc0da",uiAttribs:{translate:{x:424,y:472}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"8881d03b-635f-4e3b-8f8d-d1434e6dc0da",objOut:"2ea32b54-6a85-4a66-9cac-dccd1ef8af05"}]},{name:"posX",value:.9769739636664628,links:[{portIn:"posX",portOut:"result",objIn:"8881d03b-635f-4e3b-8f8d-d1434e6dc0da",objOut:"c7646e57-4485-4c2f-bbf6-dabb6123d6aa"}]},{name:"posY",value:0},{name:"posZ",value:"0.4"},{name:"scaleX",value:"0.10000000000000014"},{name:"scaleY",value:"0.10000000000000014"},{name:"scaleZ",value:"0.10000000000000014"},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:2708.508001804352,links:[{portIn:"rotZ",portOut:"result",objIn:"8881d03b-635f-4e3b-8f8d-d1434e6dc0da",objOut:"7e824d25-ef5a-4c8f-94b6-9ebf3500ff30"}]}],portsOut:[{name:"trigger",value:null}]},{name:"random cluster",objName:"Ops.RandomCluster",id:"2ea32b54-6a85-4a66-9cac-dccd1ef8af05",uiAttribs:{translate:{x:431,y:371}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"2ea32b54-6a85-4a66-9cac-dccd1ef8af05",objOut:"a560e405-fc3a-47e6-954a-2e6aa2f1cd17"}]},{name:"num",value:"111"},{name:"size",value:"2"}],portsOut:[{name:"trigger",value:null},{name:"index",value:110},{name:"rnd",value:.9261729470454156}]},{name:"RelativeTime",objName:"Ops.Anim.RelativeTime",id:"7c421ed4-1a58-41b4-8828-863bd476440e",uiAttribs:{translate:{x:471,y:97}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"7c421ed4-1a58-41b4-8828-863bd476440e",objOut:"b55a747a-a227-41be-a6c4-da221051cd1e"}]}],portsOut:[{name:"result",value:123.11400008201599}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"7e824d25-ef5a-4c8f-94b6-9ebf3500ff30",uiAttribs:{translate:{x:549,y:185}},portsIn:[{name:"number1",value:123.11400008201599,links:[{portIn:"number1",portOut:"result",objIn:"7e824d25-ef5a-4c8f-94b6-9ebf3500ff30",objOut:"7c421ed4-1a58-41b4-8828-863bd476440e"}]},{name:"number2",value:"22"}],portsOut:[{name:"result",value:2708.508001804352}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"9549291e-f660-48b8-9ffa-997eebec2000",uiAttribs:{translate:{x:447,y:550}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"9549291e-f660-48b8-9ffa-997eebec2000",objOut:"8881d03b-635f-4e3b-8f8d-d1434e6dc0da"}]},{name:"r",value:"0.5"},{name:"g",value:.9261729470454156,links:[{portIn:"g",portOut:"rnd",objIn:"9549291e-f660-48b8-9ffa-997eebec2000",objOut:"2ea32b54-6a85-4a66-9cac-dccd1ef8af05"}]},{name:"b",value:"1"},{name:"a",value:"0.9"},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"50dff18f-831e-4e88-a287-212195903195",uiAttribs:{translate:{x:310,y:162}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"50dff18f-831e-4e88-a287-212195903195",objOut:"b55a747a-a227-41be-a6c4-da221051cd1e"}]},{name:"r",value:"0.2"},{name:"g",value:"0.23"},{name:"b",value:"0.4"}],portsOut:[{name:"trigger",value:null}]},{name:"SinusAnim",objName:"Ops.Anim.SinusAnim",id:"c7646e57-4485-4c2f-bbf6-dabb6123d6aa",uiAttribs:{translate:{x:-37,y:164}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"c7646e57-4485-4c2f-bbf6-dabb6123d6aa",objOut:"50dff18f-831e-4e88-a287-212195903195"}]}],portsOut:[{name:"result",value:.9769739636664628}]}]}},{title:"leap motion",src:{ops:[{name:"LeapMotion",objName:"Ops.Gl.LeapMotion",id:"17dfd585-27ac-465c-bbad-cde0208a1ff4",uiAttribs:{translate:{x:393,y:36}},portsIn:[],portsOut:[{name:"translationX",value:145.222},{name:"translationY",value:-77.296},{name:"translationZ",value:21.3614},{name:"finger0X",value:173.484},{name:"finger0Y",value:154.246},{name:"finger0Z",value:8.58886}]},{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"0606fda7-e8ed-499b-8a22-d1fe8a3c11bc",uiAttribs:{translate:{x:134,y:171}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"55877a4c-5674-4e5d-ac99-0832df3c2524",uiAttribs:{translate:{x:132,y:360}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"55877a4c-5674-4e5d-ac99-0832df3c2524",objOut:"0606fda7-e8ed-499b-8a22-d1fe8a3c11bc"}]},{name:"posX",value:1.45222,links:[{portIn:"posX",portOut:"result",objIn:"55877a4c-5674-4e5d-ac99-0832df3c2524",objOut:"704da168-46a4-4e52-8749-ffa0c3ccdcd4"}]},{name:"posY",value:-.7729600000000001,links:[{portIn:"posY",portOut:"result",objIn:"55877a4c-5674-4e5d-ac99-0832df3c2524",objOut:"1e278ed8-dfe5-400d-90e5-dff84d4cfde5"}]},{name:"posZ",value:.213614,links:[{portIn:"posZ",portOut:"result",objIn:"55877a4c-5674-4e5d-ac99-0832df3c2524",objOut:"a24e340b-f6d1-4f3d-a972-2bfeda86c888"}]},{name:"scaleX",value:"0.30000000000000016"},{name:"scaleY",value:"0.30000000000000016"},{name:"scaleZ",value:"0.20000000000000015"},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"Cube",objName:"Ops.Gl.Meshes.Cube",id:"6ab051f7-24b4-4948-81a9-95fd93accbe7",uiAttribs:{translate:{x:132,y:438}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"6ab051f7-24b4-4948-81a9-95fd93accbe7",objOut:"55877a4c-5674-4e5d-ac99-0832df3c2524"}]}],portsOut:[{name:"trigger",value:null}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"1e278ed8-dfe5-400d-90e5-dff84d4cfde5",uiAttribs:{translate:{x:346,y:165}},portsIn:[{name:"number1",value:-77.296,links:[{portIn:"number1",portOut:"translationY",objIn:"1e278ed8-dfe5-400d-90e5-dff84d4cfde5",objOut:"17dfd585-27ac-465c-bbad-cde0208a1ff4"}]},{name:"number2",value:"0.01"}],portsOut:[{name:"result",value:-.7729600000000001}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"704da168-46a4-4e52-8749-ffa0c3ccdcd4",uiAttribs:{translate:{x:316,y:121}},portsIn:[{name:"number1",value:145.222,links:[{portIn:"number1",portOut:"translationX",objIn:"704da168-46a4-4e52-8749-ffa0c3ccdcd4",objOut:"17dfd585-27ac-465c-bbad-cde0208a1ff4"}]},{name:"number2",value:"0.01"}],portsOut:[{name:"result",value:1.45222}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"a24e340b-f6d1-4f3d-a972-2bfeda86c888",uiAttribs:{translate:{x:371,y:206}},portsIn:[{name:"number1",value:21.3614,links:[{portIn:"number1",portOut:"translationZ",objIn:"a24e340b-f6d1-4f3d-a972-2bfeda86c888",objOut:"17dfd585-27ac-465c-bbad-cde0208a1ff4"}]},{name:"number2",value:"0.01"}],portsOut:[{name:"result",value:.213614}]}]}},{title:"arc ball",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"1314e500-4eb7-454d-a36c-0dc06bb50f84",uiAttribs:{translate:{x:412,y:48}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"27bda4f4-9e1a-4ed3-a9bf-6b376b3400a8",uiAttribs:{translate:{x:412,y:254}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"27bda4f4-9e1a-4ed3-a9bf-6b376b3400a8",objOut:"882a66ad-bc38-4c08-87e4-8259e0db7abe"}]},{name:"posX",value:"2.7755575615628914e-17"},{name:"posY",value:0},{name:"posZ",value:"-0.10000000000000236"},{name:"scaleX",value:"1.0000000000000009"},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:275.0440020561218,links:[{portIn:"rotY",portOut:"result",objIn:"27bda4f4-9e1a-4ed3-a9bf-6b376b3400a8",objOut:"b9047ef5-b81f-418a-8858-dc42748ac99d"}]},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"random cluster",objName:"Ops.RandomCluster",id:"f30e2bf5-03a9-499d-a75d-eb8e106dd874",uiAttribs:{translate:{x:413,y:304}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"f30e2bf5-03a9-499d-a75d-eb8e106dd874",objOut:"27bda4f4-9e1a-4ed3-a9bf-6b376b3400a8"}]},{name:"num",value:"111"},{name:"size",value:"0.19999999999999998"}],portsOut:[{name:"trigger",value:null},{name:"index",value:110},{name:"rnd",value:.941478491993621}]},{name:"RelativeTime",objName:"Ops.Anim.RelativeTime",id:"77dd8f63-3c7b-4ea2-b0f6-c7a3f0e086bd",uiAttribs:{translate:{x:568,y:112}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"77dd8f63-3c7b-4ea2-b0f6-c7a3f0e086bd",objOut:"1314e500-4eb7-454d-a36c-0dc06bb50f84"}]}],portsOut:[{name:"result",value:12.502000093460083}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"b9047ef5-b81f-418a-8858-dc42748ac99d",uiAttribs:{translate:{x:568,y:180}},portsIn:[{name:"number1",value:12.502000093460083,links:[{portIn:"number1",portOut:"result",objIn:"b9047ef5-b81f-418a-8858-dc42748ac99d",objOut:"77dd8f63-3c7b-4ea2-b0f6-c7a3f0e086bd"}]},{name:"number2",value:"22"}],portsOut:[{name:"result",value:275.0440020561218}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"25a67495-4e8e-4ccf-961a-381016f12350",uiAttribs:{translate:{x:412,y:365}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"25a67495-4e8e-4ccf-961a-381016f12350",objOut:"f30e2bf5-03a9-499d-a75d-eb8e106dd874"}]},{name:"r",value:"0.5"},{name:"g",value:.941478491993621,links:[{portIn:"g",portOut:"rnd",objIn:"25a67495-4e8e-4ccf-961a-381016f12350",objOut:"f30e2bf5-03a9-499d-a75d-eb8e106dd874"}]},{name:"b",value:"1"},{name:"a",value:"0.9"},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"882a66ad-bc38-4c08-87e4-8259e0db7abe",uiAttribs:{translate:{x:307,y:153}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"882a66ad-bc38-4c08-87e4-8259e0db7abe",objOut:"1314e500-4eb7-454d-a36c-0dc06bb50f84"}]},{name:"r",value:"0.2"},{name:"g",value:"0.23"},{name:"b",value:"0.4"}],portsOut:[{name:"trigger",value:null}]},{name:"Circle",objName:"Ops.Gl.Meshes.Circle",id:"fd5876f8-44de-4681-a129-d420fc496f2e",uiAttribs:{translate:{x:411,y:431}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"fd5876f8-44de-4681-a129-d420fc496f2e",objOut:"25a67495-4e8e-4ccf-961a-381016f12350"}]},{name:"segments",value:"21"},{name:"radius",value:1},{name:"percent",value:1}],portsOut:[{name:"trigger",value:null}]}]}},{title:"layering",src:{ops:[{name:"render",objName:"Ops.Gl.Renderer",id:"00df5080-70e2-4fdd-8691-6dc105dba072",uiAttribs:{translate:{x:630,y:21}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"3023e546-2812-46f1-bbca-85a1ed00aa07",uiAttribs:{translate:{x:669,y:307}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"3023e546-2812-46f1-bbca-85a1ed00aa07",objOut:"e75861d1-ff65-436a-a3b8-42b0acb2c04b"}]},{name:"r",value:"1"},{name:"g",value:"0"},{name:"b",value:"0"},{name:"a",value:1},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"bcc98b52-c97e-48a8-ab44-d9e8e02413aa",uiAttribs:{translate:{x:675,y:369}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"bcc98b52-c97e-48a8-ab44-d9e8e02413aa",objOut:"3023e546-2812-46f1-bbca-85a1ed00aa07"}]},{name:"posX",value:"-0.4"
},{name:"posY",value:"-0.10000000000000003"},{name:"posZ",value:"-1.7000000000000004"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:"222"},{name:"rotY",value:"222"},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]},{name:"Cube",objName:"Ops.Gl.Meshes.Cube",id:"99c6cbe6-2a23-4572-9493-7dad227595e8",uiAttribs:{translate:{x:673,y:437}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"99c6cbe6-2a23-4572-9493-7dad227595e8",objOut:"bcc98b52-c97e-48a8-ab44-d9e8e02413aa"}]}],portsOut:[{name:"trigger",value:null}]},{name:"fullscreen rectangle",objName:"Ops.Gl.Meshes.FullscreenRectangle",id:"9f7af71e-f7f2-402a-8407-053e5d6107c9",uiAttribs:{translate:{x:446,y:343}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"9f7af71e-f7f2-402a-8407-053e5d6107c9",objOut:"5ad8060f-7500-4956-b20e-9bca85bc9a81"}]}],portsOut:[{name:"trigger",value:null}]},{name:"group",objName:"Ops.Group",id:"734dff1b-0231-4b48-bb95-2d97fd862ab5",uiAttribs:{translate:{x:633,y:80}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"734dff1b-0231-4b48-bb95-2d97fd862ab5",objOut:"00df5080-70e2-4fdd-8691-6dc105dba072"}]}],portsOut:[{name:"trigger 0",value:null},{name:"trigger 1",value:null},{name:"trigger 2",value:null},{name:"trigger 3",value:null},{name:"trigger 4",value:null},{name:"trigger 5",value:null},{name:"trigger 6",value:null},{name:"trigger 7",value:null},{name:"trigger 8",value:null},{name:"trigger 9",value:null}]},{name:"ClearDepth",objName:"Ops.Gl.ClearDepth",id:"e75861d1-ff65-436a-a3b8-42b0acb2c04b",uiAttribs:{translate:{x:677,y:245}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 1",objIn:"e75861d1-ff65-436a-a3b8-42b0acb2c04b",objOut:"734dff1b-0231-4b48-bb95-2d97fd862ab5"}]}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"5ad8060f-7500-4956-b20e-9bca85bc9a81",uiAttribs:{translate:{x:441,y:271}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 0",objIn:"5ad8060f-7500-4956-b20e-9bca85bc9a81",objOut:"734dff1b-0231-4b48-bb95-2d97fd862ab5"}]},{name:"r",value:"0.005250823730602955"},{name:"g",value:.6466257653664798},{name:"b",value:.8108543707057834},{name:"a",value:1},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"ClearDepth",objName:"Ops.Gl.ClearDepth",id:"40fce37f-1231-429e-b473-a17c6a09daa2",uiAttribs:{translate:{x:855,y:239}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 3",objIn:"40fce37f-1231-429e-b473-a17c6a09daa2",objOut:"734dff1b-0231-4b48-bb95-2d97fd862ab5"}]}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"3d0eccaa-3853-4a2f-8f1f-d09c4895de09",uiAttribs:{translate:{x:858,y:300}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"3d0eccaa-3853-4a2f-8f1f-d09c4895de09",objOut:"40fce37f-1231-429e-b473-a17c6a09daa2"}]},{name:"r",value:.45883621904067695},{name:"g",value:.8773334000725299},{name:"b",value:.19385918555781245},{name:"a",value:1},{name:"texture",value:null}],portsOut:[{name:"trigger",value:null}]},{name:"Triangle",objName:"Ops.Gl.Meshes.Triangle",id:"d1a50d7e-b9fa-4a9f-8f5d-75aeee91628b",uiAttribs:{translate:{x:865,y:418}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"d1a50d7e-b9fa-4a9f-8f5d-75aeee91628b",objOut:"b4b1827d-5ffc-47f6-a3c7-3bc65d408337"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"b4b1827d-5ffc-47f6-a3c7-3bc65d408337",uiAttribs:{translate:{x:863,y:351}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"b4b1827d-5ffc-47f6-a3c7-3bc65d408337",objOut:"3d0eccaa-3853-4a2f-8f1f-d09c4895de09"}]},{name:"posX",value:"-0.4"},{name:"posY",value:0},{name:"posZ",value:"-4"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:0}],portsOut:[{name:"trigger",value:null}]}]}},{title:"render to texture",src:{ops:[{name:"WebGL Renderer",objName:"Ops.Gl.Renderer",id:"8e63ce77-98cb-436f-9030-3c34c6c20e47",uiAttribs:{translate:{x:432,y:35}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"group",objName:"Ops.Group",id:"6b95556b-f54c-4394-9b9a-bf6b532c8da5",uiAttribs:{translate:{x:439,y:109}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"6b95556b-f54c-4394-9b9a-bf6b532c8da5",objOut:"8e63ce77-98cb-436f-9030-3c34c6c20e47"}]}],portsOut:[{name:"trigger 0",value:null},{name:"trigger 1",value:null},{name:"trigger 2",value:null},{name:"trigger 3",value:null},{name:"trigger 4",value:null},{name:"trigger 5",value:null},{name:"trigger 6",value:null},{name:"trigger 7",value:null},{name:"trigger 8",value:null},{name:"trigger 9",value:null}]},{name:"render to texture",objName:"Ops.Gl.Render2Texture",id:"809cd463-521d-4ee1-9ce0-6ee6a440d454",uiAttribs:{translate:{x:259,y:243}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 0",objIn:"809cd463-521d-4ee1-9ce0-6ee6a440d454",objOut:"6b95556b-f54c-4394-9b9a-bf6b532c8da5"}]},{name:"texture width",value:1024},{name:"texture width",value:1024}],portsOut:[{name:"trigger",value:null},{name:"texture",value:{}}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"04abff6d-a2ee-4d1f-b658-9c15323b7fe9",uiAttribs:{translate:{x:255,y:330}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"04abff6d-a2ee-4d1f-b658-9c15323b7fe9",objOut:"809cd463-521d-4ee1-9ce0-6ee6a440d454"}]},{name:"r",value:.3},{name:"g",value:.3},{name:"b",value:.3}],portsOut:[{name:"trigger",value:null}]},{name:"Cube",objName:"Ops.Gl.Meshes.Cube",id:"5e2dbf2d-f2ac-4dfb-b3d7-429ca11eaf72",uiAttribs:{translate:{x:659,y:542}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"5e2dbf2d-f2ac-4dfb-b3d7-429ca11eaf72",objOut:"a7b9d960-2411-47a5-bfc8-a125f54afa9d"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"b53605e2-75a7-4345-84c4-2ec8e1bc6d45",uiAttribs:{translate:{x:655,y:381}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"b53605e2-75a7-4345-84c4-2ec8e1bc6d45",objOut:"6d7e1932-21c3-49ed-a9c9-df932c04c0d7"}]},{name:"posX",value:0},{name:"posY",value:0},{name:"posZ",value:"-1.4000000000000001"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:46.12355957382455,links:[{portIn:"rotX",portOut:"result",objIn:"b53605e2-75a7-4345-84c4-2ec8e1bc6d45",objOut:"3f7cbd90-deda-4cde-98b7-26a1a77d4711"}]},{name:"rotY",value:"10"},{name:"rotZ",value:"-7"}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"a7b9d960-2411-47a5-bfc8-a125f54afa9d",uiAttribs:{translate:{x:662,y:482}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"a7b9d960-2411-47a5-bfc8-a125f54afa9d",objOut:"b53605e2-75a7-4345-84c4-2ec8e1bc6d45"}]},{name:"r",value:.43896300718188286},{name:"g",value:.28242264152504504},{name:"b",value:.9670842494815588},{name:"a",value:1},{name:"texture",value:{},links:[{portIn:"texture",portOut:"texture",objIn:"a7b9d960-2411-47a5-bfc8-a125f54afa9d",objOut:"809cd463-521d-4ee1-9ce0-6ee6a440d454"}]}],portsOut:[{name:"trigger",value:null}]},{name:"SinusAnim",objName:"Ops.Anim.SinusAnim",id:"1fe99483-a4de-45fc-bc8d-c4588928b981",uiAttribs:{translate:{x:476,y:262}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger 1",objIn:"1fe99483-a4de-45fc-bc8d-c4588928b981",objOut:"6b95556b-f54c-4394-9b9a-bf6b532c8da5"}]}],portsOut:[{name:"result",value:.5990072671925266}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"3f7cbd90-deda-4cde-98b7-26a1a77d4711",uiAttribs:{translate:{x:486,y:320}},portsIn:[{name:"number1",value:.5990072671925266,links:[{portIn:"number1",portOut:"result",objIn:"3f7cbd90-deda-4cde-98b7-26a1a77d4711",objOut:"1fe99483-a4de-45fc-bc8d-c4588928b981"}]},{name:"number2",value:"77"}],portsOut:[{name:"result",value:46.12355957382455}]},{name:"OBJ Mesh",objName:"Ops.Gl.Meshes.ObjMesh",id:"90150eab-d485-4338-a633-604e4e130b0c",uiAttribs:{translate:{x:253,y:572}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"90150eab-d485-4338-a633-604e4e130b0c",objOut:"da3d557c-4c1c-41da-9897-507f9ada93d9"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"7ec40093-7af0-4ff4-96a8-6828893548f7",uiAttribs:{translate:{x:253,y:395}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"7ec40093-7af0-4ff4-96a8-6828893548f7",objOut:"04abff6d-a2ee-4d1f-b658-9c15323b7fe9"}]},{name:"posX",value:"-83"},{name:"posY",value:0},{name:"posZ",value:"-333"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:46.12355957382455,links:[{portIn:"rotZ",portOut:"result",objIn:"7ec40093-7af0-4ff4-96a8-6828893548f7",objOut:"3f7cbd90-deda-4cde-98b7-26a1a77d4711"}]}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"da3d557c-4c1c-41da-9897-507f9ada93d9",uiAttribs:{translate:{x:252,y:506}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"da3d557c-4c1c-41da-9897-507f9ada93d9",objOut:"7ec40093-7af0-4ff4-96a8-6828893548f7"}]},{name:"r",value:.5288377956021577},{name:"g",value:.8857354579959065},{name:"b",value:.8020060784183443},{name:"a",value:1},{name:"texture",value:{},links:[{portIn:"texture",portOut:"texture",objIn:"da3d557c-4c1c-41da-9897-507f9ada93d9",objOut:"d859d32b-dfa4-4761-aff3-c529e32b4f49"}]}],portsOut:[{name:"trigger",value:null}]},{name:"texture",objName:"Ops.Gl.Texture",id:"d859d32b-dfa4-4761-aff3-c529e32b4f49",uiAttribs:{translate:{x:398,y:440}},portsIn:[{name:"file",value:"assets/skull.png"}],portsOut:[{name:"texture",value:{}}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"6d7e1932-21c3-49ed-a9c9-df932c04c0d7",uiAttribs:{translate:{x:652,y:308}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 3",objIn:"6d7e1932-21c3-49ed-a9c9-df932c04c0d7",objOut:"6b95556b-f54c-4394-9b9a-bf6b532c8da5"}]},{name:"r",value:"0.20000000000000004"},{name:"g",value:"0.20000000000000004"},{name:"b",value:"0.4"}],portsOut:[{name:"trigger",value:null}]}]}},{title:"texture effect",src:{ops:[{name:"render",objName:"Ops.Gl.Renderer",id:"9e922a1f-55a3-40be-8e97-7b2b3b77f4fc",uiAttribs:{translate:{x:441,y:44}},portsIn:[],portsOut:[{name:"trigger",value:null}]},{name:"group",objName:"Ops.Group",id:"c4aeaa94-68f8-4b9b-a861-8f8d260f1767",uiAttribs:{translate:{x:439,y:109}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"c4aeaa94-68f8-4b9b-a861-8f8d260f1767",objOut:"9e922a1f-55a3-40be-8e97-7b2b3b77f4fc"}]}],portsOut:[{name:"trigger 0",value:null},{name:"trigger 1",value:null},{name:"trigger 2",value:null},{name:"trigger 3",value:null},{name:"trigger 4",value:null},{name:"trigger 5",value:null},{name:"trigger 6",value:null},{name:"trigger 7",value:null},{name:"trigger 8",value:null},{name:"trigger 9",value:null}]},{name:"render to texture",objName:"Ops.Gl.Render2Texture",id:"af96e835-2d7a-44b9-82fe-ff74d248c1a4",uiAttribs:{translate:{x:261,y:207}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 0",objIn:"af96e835-2d7a-44b9-82fe-ff74d248c1a4",objOut:"c4aeaa94-68f8-4b9b-a861-8f8d260f1767"}]},{name:"texture width",value:1024},{name:"texture height",value:1024}],portsOut:[{name:"trigger",value:null},{name:"texture",value:{tex:{},width:1024,height:1024}}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"dc44fc5d-335e-4789-8cec-8885caf785a1",uiAttribs:{translate:{x:260,y:299}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"dc44fc5d-335e-4789-8cec-8885caf785a1",objOut:"af96e835-2d7a-44b9-82fe-ff74d248c1a4"}]},{name:"r",value:.3},{name:"g",value:.3},{name:"b",value:.3}],portsOut:[{name:"trigger",value:null}]},{name:"Cube",objName:"Ops.Gl.Meshes.Cube",id:"91ea5cda-17af-4a66-8917-092ae61058d8",uiAttribs:{translate:{x:668,y:532}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"91ea5cda-17af-4a66-8917-092ae61058d8",objOut:"73f50aab-e020-42f6-beec-2635e3b13a2b"}]}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"73f50aab-e020-42f6-beec-2635e3b13a2b",uiAttribs:{translate:{x:662,y:475}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"73f50aab-e020-42f6-beec-2635e3b13a2b",objOut:"5f4ab6dc-a8bb-4259-8964-e2ad8c6f51e9"}]},{name:"r",value:.43896300718188286},{name:"g",value:.28242264152504504},{name:"b",value:.9670842494815588},{name:"a",value:1},{name:"texture",value:{tex:{},width:1024,height:1024},links:[{portIn:"texture",portOut:"texture_out",objIn:"73f50aab-e020-42f6-beec-2635e3b13a2b",objOut:"6ad64c77-8670-469c-9c4b-9af425ec64e1"}]}],portsOut:[{name:"trigger",value:null}]},{name:"SinusAnim",objName:"Ops.Anim.SinusAnim",id:"9c4b0f44-1652-4247-a0bf-54ced6a7b3d8",uiAttribs:{translate:{x:147,y:362}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"9c4b0f44-1652-4247-a0bf-54ced6a7b3d8",objOut:"dc44fc5d-335e-4789-8cec-8885caf785a1"}]}],portsOut:[{name:"result",value:-.17438236399849474}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"c32fb1c4-3c93-4a67-aeff-2197612b15a7",uiAttribs:{translate:{x:163,y:417}},portsIn:[{name:"number1",value:-.17438236399849474,links:[{portIn:"number1",portOut:"result",objIn:"c32fb1c4-3c93-4a67-aeff-2197612b15a7",objOut:"9c4b0f44-1652-4247-a0bf-54ced6a7b3d8"}]},{name:"number2",value:"77"}],portsOut:[{name:"result",value:-13.427442027884096}]},{name:"OBJ Mesh",objName:"Ops.Gl.Meshes.ObjMesh",id:"635257cc-3d1d-4086-afc1-eeccea3c4aa9",uiAttribs:{translate:{x:259,y:648}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"635257cc-3d1d-4086-afc1-eeccea3c4aa9",objOut:"cc9647fd-07f5-42fe-96a7-09e73f08db7e"}]}],portsOut:[{name:"trigger",value:null}]},{name:"transform",objName:"Ops.Gl.Matrix.Transform",id:"eb5ffdfd-95cf-456a-86ef-897dedba17d2",uiAttribs:{translate:{x:251,y:479}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"eb5ffdfd-95cf-456a-86ef-897dedba17d2",objOut:"dc44fc5d-335e-4789-8cec-8885caf785a1"}]},{name:"posX",value:"-83"},{name:"posY",value:0},{name:"posZ",value:"-333"},{name:"scaleX",value:1},{name:"scaleY",value:1},{name:"scaleZ",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:-13.427442027884096,links:[{portIn:"rotZ",portOut:"result",objIn:"eb5ffdfd-95cf-456a-86ef-897dedba17d2",objOut:"c32fb1c4-3c93-4a67-aeff-2197612b15a7"}]}],portsOut:[{name:"trigger",value:null}]},{name:"BasicMaterial",objName:"Ops.Gl.Shader.BasicMaterial",id:"cc9647fd-07f5-42fe-96a7-09e73f08db7e",uiAttribs:{translate:{x:255,y:595}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"cc9647fd-07f5-42fe-96a7-09e73f08db7e",objOut:"eb5ffdfd-95cf-456a-86ef-897dedba17d2"}]},{name:"r",value:.5288377956021577},{name:"g",value:.8857354579959065},{name:"b",value:.8020060784183443},{name:"a",value:1},{name:"texture",value:{tex:{},width:2048,height:2048,image:{}},links:[{portIn:"texture",portOut:"texture",objIn:"cc9647fd-07f5-42fe-96a7-09e73f08db7e",objOut:"aac9d230-0763-4d99-9755-000a7989db71"}]}],portsOut:[{name:"trigger",value:null}]},{name:"texture",objName:"Ops.Gl.Texture",id:"aac9d230-0763-4d99-9755-000a7989db71",uiAttribs:{translate:{x:316,y:531}},portsIn:[{name:"file",value:"assets/skull.png"}],portsOut:[{name:"texture",value:{tex:{},width:2048,height:2048,image:{}}}]},{name:"ClearColor",objName:"Ops.Gl.ClearColor",id:"5f4ab6dc-a8bb-4259-8964-e2ad8c6f51e9",uiAttribs:{translate:{x:653,y:190}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 3",objIn:"5f4ab6dc-a8bb-4259-8964-e2ad8c6f51e9",objOut:"c4aeaa94-68f8-4b9b-a861-8f8d260f1767"}]},{name:"r",value:"0.20000000000000004"},{name:"g",value:"0.20000000000000004"},{name:"b",value:"0.4"}],portsOut:[{name:"trigger",value:null}]},{name:"SinusAnim",objName:"Ops.Anim.SinusAnim",id:"9ea66ed7-3d97-4bd5-b36f-1ea7021eda43",uiAttribs:{translate:{x:766,y:277}},portsIn:[{name:"exe",value:null,links:[{portIn:"exe",portOut:"trigger",objIn:"9ea66ed7-3d97-4bd5-b36f-1ea7021eda43",objOut:"5f4ab6dc-a8bb-4259-8964-e2ad8c6f51e9"}]}],portsOut:[{name:"result",value:-.17536688330109398}]},{name:"multiply",objName:"Ops.Math.Multiply",id:"355f699a-a533-4381-adb4-6c6304a08b30",uiAttribs:{translate:{x:771,y:351}},portsIn:[{name:"number1",value:-.17536688330109398,links:[{portIn:"number1",portOut:"result",objIn:"355f699a-a533-4381-adb4-6c6304a08b30",objOut:"9ea66ed7-3d97-4bd5-b36f-1ea7021eda43"}]},{name:"number2",value:"70"}],portsOut:[{name:"result",value:-12.275681831076579}]},{name:"texture effect",objName:"Ops.Gl.TextureEffects.TextureEffect",id:"6ad64c77-8670-469c-9c4b-9af425ec64e1",uiAttribs:{translate:{x:514,y:383}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger 1",objIn:"6ad64c77-8670-469c-9c4b-9af425ec64e1",objOut:"c4aeaa94-68f8-4b9b-a861-8f8d260f1767"}]},{name:"texture_in",value:{tex:{},width:1024,height:1024},links:[{portIn:"texture_in",portOut:"texture",objIn:"6ad64c77-8670-469c-9c4b-9af425ec64e1",objOut:"af96e835-2d7a-44b9-82fe-ff74d248c1a4"}]}],portsOut:[{name:"texture_out",value:{tex:{},width:1024,height:1024}},{name:"trigger",value:null}]},{name:"RgbMultiply",objName:"Ops.Gl.TextureEffects.RgbMultiply",id:"8e80dfbb-2480-4ca0-b6ed-043ba2ea17c1",uiAttribs:{translate:{x:493,y:491}},portsIn:[{name:"r",value:"1.4000000000000004"},{name:"g",value:"1"},{name:"b",value:"1.2000000000000002"},{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"8e80dfbb-2480-4ca0-b6ed-043ba2ea17c1",objOut:"6ad64c77-8670-469c-9c4b-9af425ec64e1"}]}],portsOut:[{name:"trigger",value:null}]},{name:"Vignette",objName:"Ops.Gl.TextureEffects.Vignette",id:"e31dc885-954a-43f2-a57e-31cd3a81f694",uiAttribs:{translate:{x:493,y:558}},portsIn:[{name:"lensRadius1",value:.8},{name:"lensRadius2",value:.4},{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"e31dc885-954a-43f2-a57e-31cd3a81f694",objOut:"8e80dfbb-2480-4ca0-b6ed-043ba2ea17c1"}]}],portsOut:[{name:"trigger",value:null}]},{name:"Blur",objName:"Ops.Gl.TextureEffects.Blur",id:"73d1dd26-bde0-49f9-998b-dddf76b410c7",uiAttribs:{translate:{x:459,y:633}},portsIn:[{name:"render",value:null,links:[{portIn:"render",portOut:"trigger",objIn:"73d1dd26-bde0-49f9-998b-dddf76b410c7",objOut:"e31dc885-954a-43f2-a57e-31cd3a81f694"}]}],portsOut:[{name:"trigger",value:null}]}]}}],CABLES=CABLES||{};document.addEventListener("DOMContentLoaded",function(e){$(document).bind("contextmenu",function(e){e.preventDefault&&e.preventDefault()});var a=new Scene;ui=new CABLES.Ui,ui.show(a)});var uiConfig={portSize:10,portPadding:2,colorLink:"#fff",colorLinkHover:"#fff",colorLinkInvalid:"#f00",colorOpBg:"#fff",colorPort:"#6c9fde",colorPortHover:"#f00",watchValuesInterval:100,rendererSizes:[{w:640,h:360},{w:800,h:480},{w:0,h:0}]},r,selectedEndPort=null,links=[],line;Raphael.el.setGroup=function(e){this.group=e},Raphael.el.getGroup=function(){return this.group},Raphael.fn.OpRect=function(e,a,t,n,r){var l=this.rect(e,a,t,n).attr({fill:uiConfig.colorOpBg,stroke:"#000"}),o=this.text(e+t/2,a+n/2-1,r),u=this.rect(e,a,t,n).attr({fill:"#ccc","fill-opacity":0,"stroke-opacity":0,cursor:"move"}),s=this.set();return s.push(l,o,u),u.setGroup(s),u.bgRect=l,u};var OpUi=function(e,a,t,n,l){var o=this;this.links=[],this.portsIn=[],this.portsOut=[],this.remove=function(){this.oprect.getGroup().remove(),this.oprect.remove()},this.removeDeadLinks=function(){for(var e=!0;e;){e=!1;for(var a in o.links)null===o.links[a].p1&&(o.links.splice(a,1),e=!0)}},this.showAddButtons=function(){o.removeDeadLinks();for(var e in o.links)o.links[e].showAddButton()},this.hideAddButtons=function(){o.removeDeadLinks();for(var e in o.links)o.links[e].hideAddButton()};var u=function(){this.group=this.getGroup(),this.previousDx=0,this.previousDy=0},s=function(e,a){if(3!=event.which&&2!=event.which){var t=e-this.previousDx,n=a-this.previousDy;this.group.translate(t,n),this.previousDx=e,this.previousDy=a,o.op.uiAttribs||(o.op.uiAttribs={}),o.op.uiAttribs.translate={x:o.oprect.matrix.e,y:o.oprect.matrix.f};for(var r in o.links)o.links[r].redraw()}},i=function(){};this.oprect=r.OpRect(e,a,t,n,l).drag(s,u,i),this.oprect.node.onmousedown=function(){o.showAddButtons(),ui.setSelectedOp(o),ui.showOpParams(o.op)},this.oprect.node.onclick=function(){};var b=function(e,a,t){line||(this.startx=this.matrix.e+this.attrs.x,this.starty=this.matrix.f+this.attrs.y)},d=function(e,a,t,n,l){if(3!=l.which&&2!=l.which){if(line?line.updateEnd(ui.getCanvasCoords(l.offsetX,l.offsetY).x,ui.getCanvasCoords(l.offsetX,l.offsetY).y):line=new Line(this.startx+uiConfig.portSize/2,this.starty+uiConfig.portSize/2,r),null===selectedEndPort)setStatusText("select a port to link...");else{var o=Link.canLinkText(selectedEndPort.thePort,this.thePort);setStatusText("can link"==o?getPortDescription(selectedEndPort.thePort):o)}line.thisLine.attr(null!==selectedEndPort&&Link.canLink(selectedEndPort.thePort,this.thePort)?{stroke:uiConfig.colorLink}:{stroke:uiConfig.colorLinkInvalid})}},c=function(e){if(3==e.which)return void this.thePort.removeLinks();if(null!==selectedEndPort&&Link.canLink(selectedEndPort.thePort,this.thePort)){var a=(ui.scene.link(selectedEndPort.op,selectedEndPort.thePort.getName(),this.op,this.thePort.getName()),new UiLink(selectedEndPort,this));selectedEndPort.opUi.links.push(a),o.links.push(a)}else ui.showOpSelect(e.offsetX,e.offsetY,this.op,this.thePort);line&&line.thisLine&&line.thisLine.remove(),line=null};this.addPort=function(t){var n=0,l=t;"out"==l&&(n=24);var u=this.portsIn.length;"out"==l&&(u=this.portsOut.length);var s=(uiConfig.portSize+uiConfig.portPadding)*u,i=e+s,p=a+n;o.oprect.bgRect.attrs.width<s+uiConfig.portSize&&o.oprect.bgRect.attr({width:s+uiConfig.portSize});var m=r.rect(i,p,uiConfig.portSize,uiConfig.portSize).attr({fill:uiConfig.colorPort,"stroke-width":0});this.oprect.getGroup().push(m),m.direction=l,m.op=o.op,m.opUi=o,m.portIndex=u;var f;f="out"==l?o.op.portsOut[u]:o.op.portsIn[u],m.thePort=f,m.attr({fill:getPortColor(f.type)}),m.hover(function(){selectedEndPort=this,m.toFront(),m.attr({x:i-.25*uiConfig.portSize,y:p-.25*uiConfig.portSize,width:1.5*uiConfig.portSize,height:1.5*uiConfig.portSize,stroke:"#fff","stroke-width":1});setStatusText(getPortDescription(f))},function(){selectedEndPort=null,m.attr({fill:getPortColor(this.thePort.type),width:uiConfig.portSize,height:uiConfig.portSize,x:i,y:p,"stroke-width":0}),setStatusText("")}),m.drag(d,b,c),$(m.node).bind("contextmenu",function(e){console.log("noyesmaybe"),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!1}),"out"==l?this.portsOut.push(m):this.portsIn.push(m)}};CABLES.Ui=function(){function getHandleBarHtml(e,a){var t=$("#"+e).html(),n=Handlebars.compile(t),r=a;return n(r)}function doWatchPorts(){for(var e in watchPorts){var a=".watchPortValue_"+watchPorts[e].watchId;$(a).html(watchPorts[e].val)}uiConfig.watchValuesInterval>0&&setTimeout(doWatchPorts,uiConfig.watchValuesInterval)}var self=this;this.ops=[],this.scene=null;var rendererSize=0,watchPorts=[],mouseNewOPX=0,mouseNewOPY=0,linkNewOpTo=null,linkNewOpToPort=null,linkNewLink=null,selectedOp=null;$(document).keydown(function(e){switch(e.which){case 46:case 8:if($("input").is(":focus"))return;selectedOp&&ui.scene.deleteOp(selectedOp.op.id,!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();break;case 27:rendererSize==uiConfig.rendererSizes.length-1?self.cycleRendererSize():$("#modalcontent").is(":visible")?ui.closeModal():ui.showOpSelect(20,20)}}),this.setLayout=function(){var e=20,a=30,t=360,n=uiConfig.rendererSizes[rendererSize].w,r=uiConfig.rendererSizes[rendererSize].h;$("svg").css("height",window.innerHeight-e-a),$("svg").css("width",window.innerWidth-n-2),$("svg").css("top",a),$("#options").css("left",window.innerWidth-n),$("#options").css("top",r),$("#options").css("width",t),$("#options").css("height",window.innerHeight-r-e),$("#meta").css("right",0),$("#meta").css("top",r),$("#meta").css("width",n-t),$("#meta").css("height",window.innerHeight-r-e),$("#menubar").css("top",0),$("#menubar").css("width",window.innerWidth-n),$("#menubar").css("height",a),0===uiConfig.rendererSizes[rendererSize].w?($("#glcanvas").attr("width",window.innerWidth),$("#glcanvas").attr("height",window.innerHeight),$("#glcanvas").css("z-index",9999)):($("#glcanvas").attr("width",uiConfig.rendererSizes[rendererSize].w),$("#glcanvas").attr("height",uiConfig.rendererSizes[rendererSize].h))},this.getOpList=function(){function getop(val,parentname){if("[object Object]"===Object.prototype.toString.call(val))for(var propertyName in val)if(val.hasOwnProperty(propertyName)){var html="",opname="Ops."+parentname+propertyName,isOp=!1;"function"==eval("typeof("+opname+")")&&(isFunction=!0);var op={isOp:isOp,name:opname,lowercasename:opname.toLowerCase()};ops.push(op),found=getop(val[propertyName],parentname+propertyName+".")}}var ops=[];return getop(Ops,""),ops},this.setUpRouting=function(){var e=new Simrou;e.addRoute("/").get(function(e,a){(!localStorage.holo||""===localStorage.holo||localStorage.holo.length<20)&&(scene.clear(),ui.showExample(0)),self.scene.deSerialize(localStorage.holo)}),e.addRoute("/example/:index").get(function(e,a){ui.showExample(a.index)}),e.start("/")},this.showOpSelect=function(e,a,t,n,r){linkNewLink=r,linkNewOpToPort=n,linkNewOpToOp=t,mouseNewOPX=e,mouseNewOPY=a;var l=getHandleBarHtml("op_select",{ops:self.getOpList()});self.showModal(l),$("#opsearch").focus(),$("#opsearch").on("input",function(e){var a=$("#opsearch").val();$("#search_style").html(a?'.searchable:not([data-index*="'+a.toLowerCase()+'"]) { display: none; }':".searchable:{display:block;}")})};var viewBox={x:0,y:0,w:1100,h:1010},panX=-1,panY=-1;this.updateViewBox=function(){r.setViewBox(viewBox.x,viewBox.y,viewBox.w,viewBox.h)},this.show=function(e){this.scene=e,$("#meta").append(getHandleBarHtml("timeline_controler"),{}),$("#meta").append();var a="<div><h2>Examples</h2>";for(var t in examples)a+='<a href="#/example/'+t+'">'+examples[t].title+"</a><br/>";a+="</div>",$("#meta").append(a),r=Raphael(0,0,640,480),this.bindScene(self.scene),window.addEventListener("resize",this.setLayout,!1),this.setLayout(),this.setUpRouting(),viewBox={x:0,y:0,w:$("svg").width(),h:$("svg").height()},self.updateViewBox(),$("svg").bind("mousewheel",function(e,a,t){viewBox.w-a>0&&viewBox.h-a>0&&(viewBox.w-=a,viewBox.h-=a),self.updateViewBox()}),$("svg").bind("mouseup",function(e){panX=-1,panY=-1}),$("svg").bind("mousemove",function(e){(2==e.which||3==e.which)&&(console.log("move"),viewBox.x+=panX-e.offsetX,viewBox.y+=panY-e.offsetY,console.log(viewBox),self.updateViewBox()),panX=e.offsetX,panY=e.offsetY})},this.showExample=function(e){self.scene.clear(),self.scene.deSerialize(examples[e].src)},this.bindScene=function(e){e.onUnLink=function(e,a){for(var t in self.ops){self.ops[t].removeDeadLinks();for(var n in self.ops[t].links)(self.ops[t].links[n].p1.thePort==e&&self.ops[t].links[n].p2.thePort==a||self.ops[t].links[n].p1.thePort==a&&self.ops[t].links[n].p2.thePort==e)&&(self.ops[t].links[n].hideAddButton(),self.ops[t].links[n].p1=null,self.ops[t].links[n].p2=null,self.ops[t].links[n].remove())}},e.onLink=function(e,a){var t=null,n=null;for(var r in self.ops){for(var l in self.ops[r].portsIn)self.ops[r].portsIn[l].thePort==e&&(t=self.ops[r].portsIn[l]),self.ops[r].portsIn[l].thePort==a&&(n=self.ops[r].portsIn[l]);for(var o in self.ops[r].portsOut)self.ops[r].portsOut[o].thePort==e&&(t=self.ops[r].portsOut[o]),self.ops[r].portsOut[o].thePort==a&&(n=self.ops[r].portsOut[o])}var u=new UiLink(t,n);t.opUi.links.push(u),n.opUi.links.push(u)},e.onDelete=function(e){for(var a in self.ops)self.ops[a].op==e&&(self.ops[a].hideAddButtons(),self.ops[a].remove(),self.ops.splice(a,1))},e.onAdd=function(e){var a=new OpUi(mouseNewOPX,mouseNewOPY,100,34,e.name);a.op=e,self.ops.push(a);for(var t in e.portsIn)a.addPort("in");for(var n in e.portsOut)a.addPort("out");if(e.uiAttribs?e.uiAttribs.hasOwnProperty("translate")&&a.oprect.getGroup().translate(e.uiAttribs.translate.x,e.uiAttribs.translate.y):(e.uiAttribs={},e.uiAttribs.translate={x:mouseNewOPX,y:mouseNewOPY}),linkNewLink){console.log("add into link...");var r=linkNewLink.p1.op,l=linkNewLink.p1.thePort,o=linkNewLink.p2.op,u=linkNewLink.p2.thePort;for(var s in l.links)(l.links[s].portIn==l&&l.links[s].portOut==u||l.links[s].portOut==l&&l.links[s].portIn==u)&&l.links[s].remove();var i=e.findFittingPort(l),b=e.findFittingPort(u);b&&i&&(ui.scene.link(e,i.getName(),r,l.getName()),ui.scene.link(e,b.getName(),o,u.getName()))}else if(linkNewOpToPort){var d=e.findFittingPort(linkNewOpToPort);if(d){ui.scene.link(linkNewOpToOp,linkNewOpToPort.getName(),e,d.getName())}}linkNewOpToOp=null,linkNewLink=null,linkNewOpToPort=null,mouseNewOPX=0,mouseNewOPY=0,ui.showOpParams(e)}},this.setSelectedOp=function(e){selectedOp&&selectedOp.hideAddButtons(),selectedOp=e,selectedOp.showAddButtons()},this.cycleRendererSize=function(){rendererSize++,rendererSize>uiConfig.rendererSizes.length-1&&(rendererSize=0),self.setLayout()},this.closeModal=function(){mouseNewOPX=0,mouseNewOPY=0,$("#modalcontent").html(""),$("#modalcontent").hide(),$("#modalbg").hide()},this.showModal=function(e){$("#modalcontent").html('<div class="modalclose"><a class="button" onclick="ui.closeModal();">close</a></div>'),$("#modalcontent").append(e),$("#modalcontent").show(),$("#modalbg").show()},this.importDialog=function(){var e="";e+="import:<br/><br/>",e+='<textarea id="serialized"></textarea>',e+="<br/>",e+="<br/>",e+='<a class="button" onclick="ui.scene.clear();ui.scene.deSerialize($(\'#serialized\').val());ui.closeModal();">import</a>',self.showModal(e)},this.exportDialog=function(){var e="";e+="export:<br/><br/>",e+='<textarea id="serialized"></textarea>',self.showModal(e),$("#serialized").val(self.scene.serialize())},this.updateOpParams=function(e){self.showOpParams(self.scene.getOpById(e))},this.showOpParams=function(e){watchPorts=[];var a=getHandleBarHtml("params_op_head",{op:e}),t=$("#params_port").html(),n=Handlebars.compile(t);a+=getHandleBarHtml("params_ports_head",{title:"in"});for(var r in e.portsIn)e.portsIn[r].isLinked()&&(e.portsIn[r].watchId="in_"+r,watchPorts.push(e.portsIn[r])),a+=n({port:e.portsIn[r],dirStr:"in",portnum:r,isInput:!0});a+=getHandleBarHtml("params_ports_head",{title:"out"});for(var l in e.portsOut)e.portsOut[l].getType()==OP_PORT_TYPE_VALUE&&(e.portsOut[l].watchId="out_"+l,watchPorts.push(e.portsOut[l])),a+=n({port:e.portsOut[l],dirStr:"out",portnum:l,isInput:!1});a+=getHandleBarHtml("params_op_foot",{op:e}),$("#options").html(a);for(var o in e.portsOut)!function(a){$("#portdelete_out_"+a).on("click",function(t){e.portsOut[a].removeLinks(),self.showOpParams(e)})}(o);for(var u in e.portsIn)!function(a){$("#portdelete_in_"+a).on("click",function(t){e.portsIn[a].removeLinks(),self.showOpParams(e)})}(u);for(var s in e.portsIn)!function(a){$("#portval_"+a).on("input",function(t){e.portsIn[a].val=""+$("#portval_"+a).val()})}(s)},doWatchPorts(),this.getCanvasCoords=function(e,a){"viewBox"!=$("svg")[0].attributes[6].name&&console.err("tis aint no viewbox attr");var t=$("svg")[0].attributes[6].value.split(" "),n=$("svg")[0].attributes[7].value;console.log("asp "+n);var r=$("svg").width(),l=$("svg").height(),o=1,u=1;r>l?(console.log("1"),o=parseInt(t[2],10),u=l*parseInt(t[2],10)/r):(console.log("2"),o=r*parseInt(t[3],10)/l,u=parseInt(t[3],10)),console.log("mul "+o+"  "+u);

var s=e/$("svg").width()*o+parseInt(t[0],10),i=a/$("svg").height()*u+parseInt(t[1],10),b={x:s,y:i};return b}};
//# sourceMappingURL=cablesui.min.js.map